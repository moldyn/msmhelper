<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>msmhelper.tools API documentation</title>
<meta name="description" content="Set of helpful functions â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/atom-one-dark.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#282c34;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>msmhelper.tools</code></h1>
</header>
<section id="section-intro">
<p>Set of helpful functions.</p>
<p>BSD 3-Clause License
Copyright (c) 2019-2020, Daniel Nagel
All rights reserved.</p>
<h2 id="todo">Todo</h2>
<ul>
<li>Correct border effects of running mean</li>
</ul>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="msmhelper.tools.format_state_traj"><code class="name flex">
<span>def <span class="ident">format_state_traj</span></span>(<span>trajs)</span>
</code></dt>
<dd>
<div class="desc"><p>Convert state trajectory to list of ndarrays.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>list</code> or <code>ndarray</code> or <code>list</code> of <code>ndarray</code></dt>
<dd>State trajectory/trajectories. The states should start from zero and
need to be integers.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>list</code> of <code>ndarray</code></dt>
<dd>Return list of ndarrays of integers.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.get_runtime_user_information"><code class="name flex">
<span>def <span class="ident">get_runtime_user_information</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get user runtime information.</p>
<blockquote>
<p><strong>CAUTION:</strong>
For python 3.5 or lower the date is not formatted and contains
microscends.</p>
</blockquote>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>RUI</code></strong> :&ensp;<code>dict</code></dt>
<dd>Holding username in 'user', pc name in 'pc', date of execution 'date',
path of execution 'script_dir' and name of execution main file
'script_name'. In case of interactive usage, script_name is 'console'.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.matrix_power"><code class="name flex">
<span>def <span class="ident">matrix_power</span></span>(<span>matrix, power)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculate matrix power with np.linalg.matrix_power.</p>
<p>Same as numpy function, except only for float matrices. See
<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.matrix_power.html">np.linalg.matrix_power</a>.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>matrix</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>2d matrix of type float.</dd>
<dt><strong><code>power</code></strong> :&ensp;<code>int, float</code></dt>
<dd>Power of matrix.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>matpow</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Matrix power.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.rename_by_index"><code class="name flex">
<span>def <span class="ident">rename_by_index</span></span>(<span>trajs, return_permutation=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Rename states sorted by their numerical values starting from 0.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>list</code> or <code>ndarray</code> or <code>list</code> of <code>ndarrays</code></dt>
<dd>State trajectory or list of state trajectories.</dd>
<dt><strong><code>return_permutation</code></strong> :&ensp;<code>bool</code></dt>
<dd>Return additionaly the permutation to achieve performed renaming.
Default is False.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Renamed data.</dd>
<dt><strong><code>permutation</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Permutation going from old to new state nameing. So the <code>i</code>th state
of the new naming corresponds to the old state <code>permutation[i-1]</code>.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.rename_by_population"><code class="name flex">
<span>def <span class="ident">rename_by_population</span></span>(<span>trajs, return_permutation=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Rename states sorted by their population starting from 1.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>list</code> or <code>ndarray</code> or <code>list</code> of <code>ndarrays</code></dt>
<dd>State trajectory or list of state trajectories.</dd>
<dt><strong><code>return_permutation</code></strong> :&ensp;<code>bool</code></dt>
<dd>Return additionaly the permutation to achieve performed renaming.
Default is False.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Renamed data.</dd>
<dt><strong><code>permutation</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Permutation going from old to new state nameing. So the <code>i</code>th state
of the new naming corresponds to the old state <code>permutation[i-1]</code>.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.runningmean"><code class="name flex">
<span>def <span class="ident">runningmean</span></span>(<span>array, window)</span>
</code></dt>
<dd>
<div class="desc"><p>Compute centered running average with given window size.</p>
<p>This function returns the centered based running average of the given
data. The output of this function is of the same length as the input,
by assuming that the given data is zero before and after the given
series. Hence, there are border affects which are not corrected.</p>
<blockquote>
<p><strong>CAUTION:</strong>
If the given window is even (not symmetric) it will be shifted towards
the beginning of the current value. So for <code>window=4</code>, it will consider
the current position <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>, the two to the left <span><span class="MathJax_Preview">i-2</span><script type="math/tex">i-2</script></span> and <span><span class="MathJax_Preview">i-1</span><script type="math/tex">i-1</script></span> and
one to the right <span><span class="MathJax_Preview">i+1</span><script type="math/tex">i+1</script></span>.</p>
</blockquote>
<p>Function is taken from lapis:
<a href="https://stackoverflow.com/questions/13728392/moving-average-or-running-mean">https://stackoverflow.com/questions/13728392/moving-average-or-running-mean</a></p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>array</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>One dimensional numpy array.</dd>
<dt><strong><code>window</code></strong> :&ensp;<code>int</code></dt>
<dd>Integer which specifies window-width.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>array_rmean</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Data which is time-averaged over the specified window.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.shift_data"><code class="name flex">
<span>def <span class="ident">shift_data</span></span>(<span>array, val_old, val_new, dtype=numpy.int32)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift integer array (data) from old to new values.</p>
<blockquote>
<p><strong>CAUTION:</strong>
The values of <code>val_old</code>, <code>val_new</code> and <code>data</code> needs to be integers.</p>
</blockquote>
<p>The basic function is based on Ashwini_Chaudhary solution:
<a href="https://stackoverflow.com/a/29408060">https://stackoverflow.com/a/29408060</a></p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>array</code></strong> :&ensp;<code>StateTraj</code> or <code>ndarray</code> or <code>list</code> or <code>list</code> of <code>ndarrays</code></dt>
<dd>1D data or a list of data.</dd>
<dt><strong><code>val_old</code></strong> :&ensp;<code>ndarray</code> or <code>list</code></dt>
<dd>Values in data which should be replaced. All values needs to be within
the range of <code>[data.min(), data.max()]</code></dd>
<dt><strong><code>val_new</code></strong> :&ensp;<code>ndarray</code> or <code>list</code></dt>
<dd>Values which will be used instead of old ones.</dd>
<dt><strong><code>dtype</code></strong> :&ensp;<code>data-type</code>, optional</dt>
<dd>The desired data-type. Needs to be of type unsigned integer.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>array</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>Shifted data in same shape as input.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.swapcols"><code class="name flex">
<span>def <span class="ident">swapcols</span></span>(<span>array, indicesold, indicesnew)</span>
</code></dt>
<dd>
<div class="desc"><p>Interchange cols of an ndarray.</p>
<div class="admonition todo">
<p class="admonition-title">TODO</p>
<p>Optimize memory usage</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>array</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>2D numpy array.</dd>
<dt><strong><code>indicesold</code></strong> :&ensp;<code>integer</code> or <code>ndarray</code></dt>
<dd>1D array of indices.</dd>
<dt><strong><code>indicesnew</code></strong> :&ensp;<code>integer</code> or <code>ndarray</code></dt>
<dd>1D array of new indices</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>array_swapped</code></strong> :&ensp;<code>ndarray</code></dt>
<dd>2D numpy array with swappend columns.</dd>
</dl></div>
</dd>
<dt id="msmhelper.tools.unique"><code class="name flex">
<span>def <span class="ident">unique</span></span>(<span>trajs, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Apply numpy.unique to traj.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>trajs</code></strong> :&ensp;<code>list</code> or <code>ndarray</code> or <code>list</code> of <code>ndarrays</code></dt>
<dd>State trajectory or list of state trajectories.</dd>
</dl>
<p>kwargs :
Arguments of <a href="https://docs.scipy.org/doc/numpy/reference/generated.numpy.unique.html">numpy.unique()</a></p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>unique :</code></dt>
<dd>Number of states, depending on kwargs more.</dd>
</dl></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<form>
<input id="lunr-search" name="q" placeholder="ðŸ”Ž Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = 'search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="msmhelper" href="index.html">msmhelper</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="msmhelper.tools.format_state_traj" href="#msmhelper.tools.format_state_traj">format_state_traj</a></code></li>
<li><code><a title="msmhelper.tools.get_runtime_user_information" href="#msmhelper.tools.get_runtime_user_information">get_runtime_user_information</a></code></li>
<li><code><a title="msmhelper.tools.matrix_power" href="#msmhelper.tools.matrix_power">matrix_power</a></code></li>
<li><code><a title="msmhelper.tools.rename_by_index" href="#msmhelper.tools.rename_by_index">rename_by_index</a></code></li>
<li><code><a title="msmhelper.tools.rename_by_population" href="#msmhelper.tools.rename_by_population">rename_by_population</a></code></li>
<li><code><a title="msmhelper.tools.runningmean" href="#msmhelper.tools.runningmean">runningmean</a></code></li>
<li><code><a title="msmhelper.tools.shift_data" href="#msmhelper.tools.shift_data">shift_data</a></code></li>
<li><code><a title="msmhelper.tools.swapcols" href="#msmhelper.tools.swapcols">swapcols</a></code></li>
<li><code><a title="msmhelper.tools.unique" href="#msmhelper.tools.unique">unique</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>